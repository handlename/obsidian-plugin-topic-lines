# タスク定義

本ドキュメントはREQUIREMENTS.mdおよびDESIGN.mdに基づき、実装タスクを定義する。

## 実装状況サマリー

### 実装済み機能

| 要件ID | 機能名 | 状態 |
|--------|--------|------|
| FR-001 | トピック登録 | ✅ 実装済み |
| FR-002 | トピック一覧表示 | ✅ 実装済み |
| FR-003 | クリックジャンプ | ✅ 実装済み |
| FR-004 | コマンドジャンプ（1〜3） | ✅ 実装済み |
| FR-005 | トピック削除 | ✅ 実装済み |
| FR-006 | ドラッグ&ドロップ並び替え | ✅ 実装済み |
| FR-007 | 永続化 | ✅ 実装済み |
| FR-008 | 元ノート不在時アラート | ✅ 実装済み |
| FR-009 | オリジナルノート更新時追従 | ✅ 実装済み（ブロックIDベース） |

### CI/CD

| 項目 | 状態 |
|------|------|
| CI/CD設定（tagpr） | ✅ 実装済み |
| GitHub Actionsワークフロー（tagpr.yml） | ✅ 実装済み |

---

## フェーズ1: CI/CD環境構築

- [x] tagpr設定ファイルの作成
  - 目的: tagprによるリリース管理の自動化を有効にする
  - 詳細: `.tagpr`ファイルをプロジェクトルートに作成し、DESIGN.mdに記載された設定を適用する
  - 完了条件: `.tagpr`ファイルが存在し、DESIGN.md 14.6節の設定内容と一致すること

- [x] tagpr用GitHub Actionsワークフローの作成
  - 目的: mainブランチへのプッシュ時に自動でリリースPR作成・リリース実行を行う
  - 詳細: `.github/workflows/tagpr.yml`を作成し、DESIGN.md 14.7節のワークフロー定義を実装する
  - 完了条件: `tagpr.yml`が存在し、以下を満たすこと
    - mainブランチへのpushでトリガーされる
    - tagprによるリリースPR作成が実行される
    - タグ作成時にビルド・アセットアップロード・リリース公開が実行される

---

## フェーズ2: リリース準備

- [x] versions.jsonの確認・整備
  - 目的: tagprによるバージョン管理に対応したversions.jsonを整備する
  - 詳細: 現在のversions.jsonを確認し、tagprがバージョン更新できる形式であることを確認する
  - 完了条件: versions.jsonが存在し、tagprのversionFile設定と整合性があること

- [x] CHANGELOG.mdの作成（オプション）
  - 目的: tagprによる自動更新に対応したCHANGELOG.mdを用意する
  - 詳細: CHANGELOG.mdが存在しない場合は初期テンプレートを作成する
  - 完了条件: CHANGELOG.mdが存在すること

---

## フェーズ3: 品質保証・テスト

- [x] ビルドの動作確認
  - 目的: CI/CDでのビルドが正常に動作することを確認する
  - 詳細: `npm run build`を実行し、main.js、manifest.json、styles.cssが正しく生成されることを確認する
  - 完了条件: ビルドエラーなく成果物が生成されること

- [x] ESLint警告の解消
  - 目的: コード品質を確保する
  - 詳細: `npm run lint`を実行し、エラー・警告があれば解消する
  - 完了条件: ESLintがエラーなしで完了すること

---

## フェーズ間の依存関係

```
フェーズ1: CI/CD環境構築
    ↓
フェーズ2: リリース準備
    ↓
フェーズ3: 品質保証・テスト
```

---

## 実行方法

各タスクを実行するには、以下のSlash Commandを使用:

- 単一タスク実行: `/prj:exec-task [タスク名またはタスクID]`
- 複数タスク連続実行: `/prj:exec-tasks --until=[タスク名またはタスクID]`

---

## 変更履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|----------|
| 2026-01-09 | 1.0 | 初版作成（コア機能実装済み、CI/CDタスクのみ定義） |
| 2026-01-09 | 1.1 | CI/CD全タスク完了 |
